<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Almuerzos Nutritivos - Recetas con Amor</title>
  <link href="https://fonts.googleapis.com/css2?family=Baloo+2&family=Garlic+Butter&family=Tangerine&display=swap" rel="stylesheet" />
  <link rel="stylesheet" href="styles.css" />
  <style>
    body {
      background-color: #ffffff;
      color: #545855;
      font-family: 'Baloo 2', cursive;
      padding: 20px;
      max-width: 900px;
      margin: 0 auto;
    }

    .header-container {
      display: flex;
      align-items: center;
      justify-content: center;
      position: relative;
      margin-bottom: 30px;
    }

    .back-button-small {
      position: absolute;
      left: 0;
      background: none;
      border: none;
      font-size: 32px;
      cursor: pointer;
      color: #D19793;
      user-select: none;
    }

    h1 {
      font-family: 'Garlic Butter', cursive;
      font-size: 48px;
      color: #D19793;
      margin: 0;
    }

    p.bienvenida {
      font-family: 'Tangerine', cursive;
      font-size: 28px;
      text-align: center;
      margin-top: 0;
      margin-bottom: 30px;
      color: #EED5B7;
    }

    .buscador {
      width: 100%;
      margin-bottom: 20px;
      text-align: center;
    }

    .buscador input {
      width: 80%;
      padding: 10px;
      font-size: 18px;
      border-radius: 12px;
      border: 2px solid #D19793;
    }

    .receta {
      background-color: #F6CEC8;
      border-radius: 15px;
      padding: 20px;
      margin-bottom: 30px;
      box-shadow: 0 4px 8px rgba(84, 88, 85, 0.2);
    }

    .receta h2 {
      margin-top: 0;
      color: #545855;
      font-family: 'Garlic Butter', cursive;
      font-size: 32px;
    }

    .receta p.descripcion {
      font-style: italic;
      font-size: 18px;
      margin-top: 5px;
      margin-bottom: 15px;
      color: #CCC7AE;
    }

    .valor-nutricional {
      font-weight: 700;
      margin-bottom: 10px;
      color: #545855;
    }

    .ingredientes {
      margin-bottom: 15px;
    }

    .ingredientes ul {
      list-style-type: none;
      padding-left: 0;
      font-size: 18px;
    }

    .ingredientes li {
      margin-bottom: 5px;
    }

    .pasos {
      margin-top: 15px;
    }

    .pasos ol {
      padding-left: 20px;
      font-size: 18px;
      color: #545855;
    }

    .calculadora-porciones {
      margin-top: 10px;
      font-size: 18px;
    }

    .calculadora-porciones label {
      font-weight: 700;
      margin-right: 10px;
    }

    .calculadora-porciones input[type=number] {
      width: 60px;
      padding: 5px;
      border-radius: 10px;
      border: 2px solid #D19793;
      font-size: 18px;
    }

    /* Responsive */
    @media (max-width: 768px) {
      body {
        padding: 10px;
      }

      h1 {
        font-size: 36px;
      }

      p.bienvenida {
        font-size: 24px;
      }

      .buscador input {
        width: 95%;
      }

      .receta {
        padding: 15px;
      }

      .receta h2 {
        font-size: 26px;
      }
    }
  </style>
</head>
<body>

  <div class="header-container">
    <button class="back-button-small" aria-label="Volver a inicio" onclick="window.location.href='index.html'">←</button>
    <h1>Recetas con Amor</h1>
  </div>

  <p class="bienvenida">Estas recetas las hice pensando en ti porque tú me inspiras a crear.</p>

  <div class="buscador">
    <input type="search" id="buscador" placeholder="Buscar receta de almuerzo..." />
  </div>

  <div id="lista-recetas">

    <!-- Aquí se mostrarán las recetas -->

  </div>

  <script>
    const recetas = [
      {
        nombre: "Ensalada de Quinoa",
        descripcion: "Una ensalada fresca, nutritiva y rica en proteínas.",
        valorNutricional: "350 kcal por porción",
        ingredientes: [
          { nombre: "Quinoa", cantidad: 100, unidad: "g" },
          { nombre: "Tomate", cantidad: 1, unidad: "pieza" },
          { nombre: "Pepino", cantidad: 0.5, unidad: "pieza" },
          { nombre: "Aceite de oliva", cantidad: 2, unidad: "cucharadas" },
          { nombre: "Jugo de limón", cantidad: 1, unidad: "cucharada" }
        ],
        pasos: [
          "Cocina la quinoa según las instrucciones del paquete y deja enfriar.",
          "Pica el tomate y el pepino.",
          "Mezcla todos los ingredientes y agrega aceite y limón.",
          "Sirve fresca."
        ]
      },
      {
        nombre: "Pollo al horno con verduras",
        descripcion: "Un plato completo con proteínas y vegetales al horno.",
        valorNutricional: "450 kcal por porción",
        ingredientes: [
          { nombre: "Pechuga de pollo", cantidad: 200, unidad: "g" },
          { nombre: "Zanahoria", cantidad: 1, unidad: "pieza" },
          { nombre: "Brócoli", cantidad: 100, unidad: "g" },
          { nombre: "Aceite de oliva", cantidad: 1, unidad: "cucharada" },
          { nombre: "Sal y pimienta", cantidad: 0.5, unidad: "cucharadita" }
        ],
        pasos: [
          "Precalienta el horno a 180°C.",
          "Coloca el pollo y las verduras en una bandeja.",
          "Rocía con aceite y sazona con sal y pimienta.",
          "Hornea por 30 minutos o hasta que el pollo esté cocido.",
          "Sirve caliente."
        ]
      },
      {
        nombre: "Lentejas guisadas",
        descripcion: "Un guiso tradicional lleno de sabor y nutrientes.",
        valorNutricional: "400 kcal por porción",
        ingredientes: [
          { nombre: "Lentejas", cantidad: 150, unidad: "g" },
          { nombre: "Cebolla", cantidad: 0.5, unidad: "pieza" },
          { nombre: "Tomate", cantidad: 1, unidad: "pieza" },
          { nombre: "Ajo", cantidad: 1, unidad: "diente" },
          { nombre: "Aceite de oliva", cantidad: 1, unidad: "cucharada" }
        ],
        pasos: [
          "Sofríe la cebolla y el ajo en aceite.",
          "Agrega el tomate picado y cocina por 5 minutos.",
          "Añade las lentejas y agua suficiente para cocerlas.",
          "Cocina hasta que las lentejas estén tiernas.",
          "Sirve caliente."
        ]
      },
      {
        nombre: "Arroz integral con verduras",
        descripcion: "Un acompañante saludable y sabroso para cualquier plato.",
        valorNutricional: "300 kcal por porción",
        ingredientes: [
          { nombre: "Arroz integral", cantidad: 100, unidad: "g" },
          { nombre: "Zanahoria", cantidad: 0.5, unidad: "pieza" },
          { nombre: "Choclo", cantidad: 50, unidad: "g" },
          { nombre: "Aceite de oliva", cantidad: 1, unidad: "cucharada" },
          { nombre: "Sal", cantidad: 0.25, unidad: "cucharadita" }
        ],
        pasos: [
          "Cocina el arroz integral según las instrucciones del paquete.",
          "Saltea las verduras en aceite.",
          "Mezcla el arroz con las verduras y sirve."
        ]
      },
      {
        nombre: "Pescado a la plancha con ensalada",
        descripcion: "Una opción ligera y rica en proteínas y omega-3.",
        valorNutricional: "380 kcal por porción",
        ingredientes: [
          { nombre: "Filete de pescado", cantidad: 150, unidad: "g" },
          { nombre: "Lechuga", cantidad: 50, unidad: "g" },
          { nombre: "Tomate", cantidad: 0.5, unidad: "pieza" },
          { nombre: "Aceite de oliva", cantidad: 1, unidad: "cucharada" },
          { nombre: "Limón", cantidad: 1, unidad: "pieza" }
        ],
        pasos: [
          "Cocina el pescado a la plancha con un poco de aceite.",
          "Prepara una ensalada con lechuga y tomate.",
          "Sirve el pescado acompañado de la ensalada y limón."
        ]
      },
      {
        nombre: "Wrap de pollo y verduras",
        descripcion: "Una comida rápida, saludable y sabrosa.",
        valorNutricional: "350 kcal por porción",
        ingredientes: [
          { nombre: "Tortilla integral", cantidad: 1, unidad: "pieza" },
          { nombre: "Pechuga de pollo", cantidad: 100, unidad: "g" },
          { nombre: "Lechuga", cantidad: 30, unidad: "g" },
          { nombre: "Tomate", cantidad: 0.5, unidad: "pieza" },
          { nombre: "Mayonesa ligera", cantidad: 1, unidad: "cucharada" }
        ],
        pasos: [
          "Cocina y corta la pechuga de pollo.",
          "Coloca todos los ingredientes en la tortilla.",
          "Enrolla y sirve."
        ]
      },
      {
        nombre: "Sopa de verduras",
        descripcion: "Un plato reconfortante y lleno de vitaminas.",
        valorNutricional: "250 kcal por porción",
        ingredientes: [
          { nombre: "Zanahoria", cantidad: 1, unidad: "pieza" },
          { nombre: "Calabacín", cantidad: 1, unidad: "pieza" },
          { nombre: "Apio", cantidad: 1, unidad: "tallo" },
          { nombre: "Caldo de verduras", cantidad: 500, unidad: "ml" },
          { nombre: "Aceite de oliva", cantidad: 1, unidad: "cucharada" }
        ],
        pasos: [
          "Pica todas las verduras.",
          "Cuece las verduras en el caldo hasta que estén tiernas.",
          "Sirve caliente."
        ]
      },
      {
        nombre: "Ensalada César con pollo",
        descripcion: "Una ensalada clásica con un toque nutritivo.",
        valorNutricional: "400 kcal por porción",
        ingredientes: [
          { nombre: "Lechuga romana", cantidad: 50, unidad: "g" },
          { nombre: "Pechuga de pollo", cantidad: 150, unidad: "g" },
          { nombre: "Queso parmesano", cantidad: 20, unidad: "g" },
          { nombre: "Aderezo César", cantidad: 2, unidad: "cucharadas" },
          { nombre: "Crutones", cantidad: 30, unidad: "g" }
        ],
        pasos: [
          "Cocina el pollo y córtalo en tiras.",
          "Mezcla todos los ingredientes.",
          "Agrega el aderezo y sirve."
        ]
      },
      {
        nombre: "Tacos de pescado",
        descripcion: "Tacos ligeros y sabrosos con pescado a la plancha.",
        valorNutricional: "370 kcal por porción",
        ingredientes: [
          { nombre: "Tortillas de maíz", cantidad: 2, unidad: "pieza" },
          { nombre: "Filete de pescado", cantidad: 150, unidad: "g" },
          { nombre: "Col rallada", cantidad: 30, unidad: "g" },
          { nombre: "Salsa de yogur", cantidad: 2, unidad: "cucharadas" },
          { nombre: "Limón", cantidad: 1, unidad: "pieza" }
        ],
        pasos: [
          "Cocina el pescado a la plancha.",
          "Calienta las tortillas.",
          "Arma los tacos con pescado, col y salsa.",
          "Sirve con limón."
        ]
      },
      {
        nombre: "Buddha bowl",
        descripcion: "Un bol nutritivo con verduras, granos y proteínas.",
        valorNutricional: "420 kcal por porción",
        ingredientes: [
          { nombre: "Arroz integral", cantidad: 100, unidad: "g" },
          { nombre: "Garbanzos cocidos", cantidad: 100, unidad: "g" },
          { nombre: "Aguacate", cantidad: 0.5, unidad: "pieza" },
          { nombre: "Zanahoria rallada", cantidad: 1, unidad: "pieza" },
          { nombre: "Espinacas", cantidad: 30, unidad: "g" }
        ],
        pasos: [
          "Coloca el arroz en un bol.",
          "Agrega los garbanzos, aguacate, zanahoria y espinacas.",
          "Mezcla y sirve."
        ]
      }
    ];

    function crearRecetaHTML(receta) {
      const recetaDiv = document.createElement('div');
      recetaDiv.classList.add('receta');

      let ingredientesHTML = '<ul>';
      receta.ingredientes.forEach(ing => {
        ingredientesHTML += `<li data-cantidad="${ing.cantidad}" data-nombre="${ing.nombre}" data-unidad="${ing.unidad}">${ing.cantidad} ${ing.unidad} de ${ing.nombre}</li>`;
      });
      ingredientesHTML += '</ul>';

      let pasosHTML = '<ol>';
      receta.pasos.forEach(paso => {
        pasosHTML += `<li>${paso}</li>`;
      });
      pasosHTML += '</ol>';

      recetaDiv.innerHTML = `
        <h2>${receta.nombre}</h2>
        <p class="descripcion">${receta.descripcion}</p>
        <p class="valor-nutricional">Valor nutricional: ${receta.valorNutricional}</p>
        <div class="ingredientes">
          <h3>Ingredientes:</h3>
          ${ingredientesHTML}
        </div>
        <div class="calculadora-porciones">
          <label for="porciones-${receta.nombre.replace(/\s+/g, '-')}" >Porciones:</label>
          <input type="number" min="1" max="100" value="1" id="porciones-${receta.nombre.replace(/\s+/g, '-')}" />
        </div>
        <div class="pasos">
          <h3>Pasos:</h3>
          ${pasosHTML}
        </div>
      `;

      const inputPorciones = recetaDiv.querySelector('input[type="number"]');
      inputPorciones.addEventListener('input', () => {
        let factor = Number(inputPorciones.value);
        if (factor < 1) factor = 1;
        if (factor > 100) factor = 100;

        const ingredientesLi = recetaDiv.querySelectorAll('.ingredientes li');
        ingredientesLi.forEach(li => {
          const cantidadBase = parseFloat(li.dataset.cantidad);
          const unidad = li.dataset.unidad;
          const nombre = li.dataset.nombre;
          const cantidadCalculada = (cantidadBase * factor).toFixed(2).replace(/\.00$/, '');
          li.textContent = `${cantidadCalculada} ${unidad} de ${nombre}`;
        });
      });

      return recetaDiv;
    }

    const listaRecetasDiv = document.getElementById('lista-recetas');

    function mostrarRecetas(recetasAMostrar) {
      listaRecetasDiv.innerHTML = '';
      recetasAMostrar.forEach(receta => {
        listaRecetasDiv.appendChild(crearRecetaHTML(receta));
      });
    }

    mostrarRecetas(recetas);

    const buscadorInput = document.getElementById('buscador');
    buscadorInput.addEventListener('input', () => {
      const filtro = buscadorInput.value.toLowerCase();
      const filtradas = recetas.filter(r =>
        r.nombre.toLowerCase().includes(filtro) ||
        r.descripcion.toLowerCase().includes(filtro)
      );
      mostrarRecetas(filtradas);
    });
  </script>
</body>
</html>
